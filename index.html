<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JFC | jeromesflightclub</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body { background-color: #020617; color: white; font-family: sans-serif; }
    .hero-gradient { background: radial-gradient(circle at top right, #1e293b 0%, #020617 70%); }
    .nav-link { font-size: 10px; font-weight: 800; text-transform: uppercase; opacity: 0.5; transition: 0.3s; }
    .nav-link:hover { opacity: 1; color: #3b82f6; }
    /* Verberg content standaard tot inlog check klaar is */
    #protected-ui { display: none; }
  </style>
</head>

<body class="hero-gradient min-h-screen">

  <nav class="max-w-7xl mx-auto flex justify-between items-center py-8 px-6">
    <div class="flex items-center gap-12">
      <div class="text-3xl font-black italic tracking-tighter text-blue-500">JFC.</div>
      <div id="protected-ui" class="md:flex gap-8">
        <a href="index.html" class="nav-link text-blue-400 opacity-100">Home</a>
        <a href="europe.html" class="nav-link">Europe</a>
        <a href="asia.html" class="nav-link">Asia</a>
        <a href="world.html" class="nav-link">World</a>
      </div>
    </div>

    <button
      id="auth-btn"
      class="text-[10px] font-bold uppercase border border-white/30 px-6 py-2 rounded-full hover:bg-white/10 transition">
      Bezig met laden...
    </button>
  </nav>

  <header class="max-w-5xl mx-auto text-center pt-32 pb-20 px-6">
    <span class="text-blue-500 font-black tracking-[0.4em] text-[10px] uppercase mb-4 block">
      Exclusive Membership Access
    </span>

    <h1 class="text-6xl md:text-8xl font-black italic uppercase leading-none mb-8">
      Fly Premium.<br>
      <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600">
        Pay Economy.
      </span>
    </h1>

    <p class="text-slate-400 text-lg max-w-2xl mx-auto mb-12">
      Hand-picked deals en error fares. Unlock de beste vluchten voor slechts â‚¬1.
    </p>

    <div class="flex justify-center gap-6">
      <a href="javascript:void(0)" id="main-action-btn"
         class="bg-white text-black px-10 py-5 rounded-2xl font-black uppercase text-sm hover:bg-blue-500 hover:text-white transition">
        Login om deals te zien
      </a>
    </div>
  </header>

  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

    // Gebruik je eigen URL en Key
    const supabase = createClient(
      "https://wtyftavgeedogadlqpzr.supabase.co",
      "sb_publishable_tcIuKnh98v9Pf9a8-3PeIQ_-KkfJNPz"
    );

    const authBtn = document.getElementById("auth-btn");
    const navLinks = document.getElementById("protected-ui");
    const mainBtn = document.getElementById("main-action-btn");

    // Functie om in te loggen
    async function login() {
      await supabase.auth.signInWithOAuth({
        provider: "google",
        options: {
          // Stuur gebruiker terug naar de index na login
          redirectTo: "https://jfc-website.pages.dev/index.html"
        }
      });
    }

    // Functie om uit te loggen
    async function logout() {
      await supabase.auth.signOut();
      window.location.reload();
    }

    // Check status
    async function checkUser() {
      const { data: { session } } = await supabase.auth.getSession();

      if (session) {
        // INGELOGD
        authBtn.textContent = "Logout";
        authBtn.onclick = logout;
        navLinks.style.display = "flex"; // Toon het menu (Europe, Asia, World)
        mainBtn.textContent = "Bekijk Deals";
        mainBtn.href = "europe.html";
        mainBtn.onclick = null;
      } else {
        // NIET INGELOGD
        authBtn.textContent = "Login with Google";
        authBtn.onclick = login;
        navLinks.style.display = "none"; // Verberg menu
        mainBtn.onclick = login;
      }
    }

    checkUser();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JFC | Startpunt</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #020617; color: white; font-family: sans-serif; }
    .hero-gradient { background: radial-gradient(circle at top right, #1e293b 0%, #020617 70%); }
  </style>
</head>
<body class="hero-gradient min-h-screen">
  <nav class="max-w-7xl mx-auto flex justify-between items-center py-8 px-6">
    <div class="text-3xl font-black italic text-blue-500">JFC.</div>
    <button id="auth-btn" class="text-[10px] font-bold uppercase border border-white/30 px-6 py-2 rounded-full">Laden...</button>
  </nav>

  <header class="max-w-5xl mx-auto text-center pt-32 px-6">
    <h1 class="text-6xl font-black uppercase mb-8">Fly Premium.<br><span class="text-blue-500">Pay Economy.</span></h1>
    <button id="main-cta" class="bg-white text-black px-10 py-5 rounded-2xl font-black uppercase">LOGIN MET GOOGLE</button>
  </header>

  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
    const supabase = createClient("https://wtyftavgeedogadlqpzr.supabase.co", "sb_publishable_tcIuKnh98v9Pf9a8-3PeIQ_-KkfJNPz");

    async function check() {
      const { data: { session } } = await supabase.auth.getSession();
      const btn = document.getElementById("auth-btn");
      const cta = document.getElementById("main-cta");

      if (session) {
        btn.textContent = "LOG UIT";
        btn.onclick = async () => { await supabase.auth.signOut(); window.location.reload(); };
        cta.textContent = "BEKIJK DEALS (INGELOGD)";
        cta.onclick = () => { alert("Je bent ingelogd! Nu kunnen we andere pagina's gaan maken."); };
      } else {
        btn.textContent = "LOGIN";
        const login = async () => { 
            await supabase.auth.signInWithOAuth({ 
                provider: "google", 
                options: { redirectTo: "https://jfc-website.pages.dev/index.html" } 
            }); 
        };
        btn.onclick = login;
        cta.onclick = login;
      }
    }
    check();
  </script>
</body>
</html>
